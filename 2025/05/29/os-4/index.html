

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="../../../../img/image.jpg">
  <link rel="icon" href="../../../../img/image.jpg">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Ivan Chan">
  <meta name="keywords" content="">
  
    <meta name="description" content="Multiple Processor SystemThere are 3 types of sharing multiple processor.               Multicomputer and Message Passing is not the same concept. Multicomputer is just like an apartment with many roo">
<meta property="og:type" content="article">
<meta property="og:title" content="Multiple Processor Systems and Security - Modern Operating System">
<meta property="og:url" content="https://ivanclf.github.io/2025/05/29/os-4/index.html">
<meta property="og:site_name" content="Ivan的博客">
<meta property="og:description" content="Multiple Processor SystemThere are 3 types of sharing multiple processor.               Multicomputer and Message Passing is not the same concept. Multicomputer is just like an apartment with many roo">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-1.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-2.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-3.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-5.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-7.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-8.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-9.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-10.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-11.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/type-I-hypervisor.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/9-1.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/9-12.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/9-21.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/9-29.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/9-15.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/9-16.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/9-3.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/9-4.png">
<meta property="og:image" content="https://ivanclf.github.io/2025/05/29/os-4/9-8.png">
<meta property="article:published_time" content="2025-05-29T06:52:34.000Z">
<meta property="article:modified_time" content="2025-11-14T08:28:50.897Z">
<meta property="article:author" content="Ivan Chan">
<meta property="article:tag" content="复习">
<meta property="article:tag" content="日常">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://ivanclf.github.io/2025/05/29/os-4/8-1.png">
  
  
  
  <title>Multiple Processor Systems and Security - Modern Operating System - Ivan的博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="../../../../css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="../../../../css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="../../../../css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"ivanclf.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":30,"cursorChar":"|","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"§"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="../../../../js/utils.js" ></script>
  <script  src="../../../../js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 80vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="../../../../index.html">
      <strong>Ivan的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../index.html" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('../../../../img/banner-page.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Multiple Processor Systems and Security - Modern Operating System"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-05-29 14:52" pubdate>
          2025年5月29日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          828 字
        
      </span>
    

    

    
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Multiple Processor Systems and Security - Modern Operating System</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="Multiple-Processor-System"><a href="#Multiple-Processor-System" class="headerlink" title="Multiple Processor System"></a>Multiple Processor System</h2><p>There are 3 types of sharing multiple processor.</p>
<p><img src="8-1.png" srcset="/img/loading.gif" lazyload alt="3 types"></p>
<div class="note note-info">
            <p>Multicomputer and Message Passing is not the same concept. Multicomputer is just like an apartment with many rooms, everyone in rooms (processors) has own tables and file chests (local memory), while message passing is like people sent information via phones or mails, but not rush to other’s room to take file immediately.</p>
          </div>

<h3 id="Multiprocessors"><a href="#Multiprocessors" class="headerlink" title="Multiprocessors"></a>Multiprocessors</h3><p>A shared-memory multiprocessor is a computer system in which two or more CPUs share full access to a common RAM.</p>
<h4 id="Multiprocessor-Hardware"><a href="#Multiprocessor-Hardware" class="headerlink" title="Multiprocessor Hardware"></a>Multiprocessor Hardware</h4><p>Although all multiprocessors have the property that every CPU can address all of memory, some multiprocessors have the additional property that every memory word can be read as fast as every other memory word. These machines are called <strong>UMA</strong> (<strong>Uniform Memory Access</strong> 统一内存访问) multiprocessors. In contrast, <strong>NUMA</strong> (<strong>Nonuniform Memory Access</strong>) multiprocessors do not have this property.</p>
<ul>
<li><p>UMA Multiprocessors with Bus-Based Architectures</p>
<p>  The simplest multiprocessors are based on a single bus.</p>
<p>  <img src="8-2.png" srcset="/img/loading.gif" lazyload alt="based on a single bus"></p>
<p>  With two or three CPUs, contention for the bus will be manageable; with 32 or 64 it will be unbearable. The system will be totally limited by the bandwidth of the bus, and most of the CPUs will be idle (空闲的) most of the time.</p>
<p>  The solution to this problem is to add a cache to each CPU. Each cache block is marked as being either read only (in which case it can be present in multiple caches at the same time) or read-write (in which case it may not be present in any other caches). If a CPU attempts to write a word that is in one or more remote caches, the bus hardware detects the write and puts a signal on the bus informing all other caches of the write.</p>
<p>  Yet another possibility is the design of Fig. 8-2(c), in which each CPU has not only a cache, but also a local, private memory which it accesses over a dedicated (private) bus.</p>
</li>
<li><p>UMA Multiprocessors Using Crossbar Switches</p>
<p>  The simplest circuit for connecting $n$ CPUs to $k$ memories is the <strong>crossbar switch</strong>.</p>
<p>  <img src="8-3.png" srcset="/img/loading.gif" lazyload alt="crossbar switch"></p>
<p>  One of the nicest properties of the crossbar switch is that it is a <strong>nonblocking network</strong>, meaning that no CPU is ever denied the connection it needs because some crosspoint or line is already occupied.</p>
<p>  One of the worst properties of the crossbar switch is the fact that the number of crosspoints grows as $n^2$. With 1000 CPUs and 1000 memory modules we need a million crosspoints. Such a large crossbar switch is not feasible (可行的). Nevertheless, for medium-sized systems, a crossbar design is workable.</p>
</li>
<li><p>UMA Multiprocessors Using Multistage Switching Networks</p>
<p>  similar to a router, we can set a router to multiprocessors.</p>
<p>  <img src="8-5.png" srcset="/img/loading.gif" lazyload alt="router?"></p>
</li>
<li><p>NUMA Multiprocessors</p>
<p>  NUMA machines have three key characteristics that all of them possess and which together distinguish them from other multiprocessors:</p>
<ol>
<li>There is a single address space visible to all CPUs.</li>
<li>Access to remote memory is via LOAD and STORE instructions.</li>
<li>Access to remote memory is slower than access to local memory.</li>
</ol>
<p>  When the access time to remote memory is not hidden (because there is no caching), the system is called NC-NUMA (Non Cache-coherent NUMA). When the caches are coherent, the system is called CC-NUMA (Cache-Coherent NUMA).</p>
</li>
</ul>
<h3 id="Multiprocessors-Operating-System-Types"><a href="#Multiprocessors-Operating-System-Types" class="headerlink" title="Multiprocessors Operating System Types"></a>Multiprocessors Operating System Types</h3><ul>
<li><p>Each CPU Has Its Own Operating System</p>
<p>  <img src="8-7.png" srcset="/img/loading.gif" lazyload alt="Each CPU Has Its Own Operating System"></p>
<p>  This scheme is still better than having $n$ separate computers since it allows all the machines to share a set of disks and other I&#x2F;O devices, and it also allows the memory to be shared flexibly.</p>
</li>
<li><p>Master-Slave Multiprocessors</p>
<p>  <img src="8-8.png" srcset="/img/loading.gif" lazyload alt="Master-Slave Multiprocessors"></p>
<p>  The master-slave model solves most of the problems of the first model. And the problem with this model is that with many CPUs, the master will become a bottleneck. After all, it must handle all system calls from all CPUs. If, say, 10% of all time is spent handling system calls, then 10 CPUs will pretty much saturate (饱和) the master, and with 20 CPUs it will be completely overloaded.</p>
</li>
<li><p><strong>SMP</strong> (<strong>Symmetric Multiprocessors</strong> 对称多处理器)</p>
<p>  <img src="8-9.png" srcset="/img/loading.gif" lazyload alt="SMP"></p>
<p>  When a system call is made, the CPU on which the system call was made traps to the kernel and processes the system call.</p>
<p>  But it introduces its own problems. In particular, if two or more CPUs are running operating system code at the same time, disaster may well result. Imagine two CPUs simultaneously (同时) picking the same process to run or claiming the same free memory page. The simplest way around these problems is to associate a mutex (i.e., lock) with the operating system, making the whole system one big critical region. This approach is somethings called a <strong>big kernel lock</strong>.</p>
</li>
</ul>
<h3 id="Multiprocessors-Synchronization"><a href="#Multiprocessors-Synchronization" class="headerlink" title="Multiprocessors Synchronization"></a>Multiprocessors Synchronization</h3><p><img src="8-10.png" srcset="/img/loading.gif" lazyload alt="TSL instruction can fail if bus already locked"></p>
<p>Now think about what could happen on a multiprocessor. We see the worst-case timing, in which memory word 1000, being used as a lock, is initially 0. In step 1, CPU 1 reads out the word and gets a 0. In step 2, before CPU 1 has a chance to rewrite the word to 1, CPU 2 gets in and also reads the word out as a 0. In step 3, CPU 1 writes a 1 into the word. In step 4, CPU 2 also writes a 1 into the word. Both CPUs got a 0 back from the TSL instruction, so both of them now hav e access to the critical region and the mutual exclusion fails.</p>
<p>To prevent this problem, the <strong>TSL</strong> (<strong>Test and Set Lock</strong>), an atomic operation, instruction must first lock the bus, preventing other CPUs from accessing it, then do both memory accesses, then unlock the bus.</p>
<p>Problem: put a massive load on the bus or memory, slowing down all other CPUs trying to do their normal work.</p>
<p>An even better idea is to give each CPU wishing to acquire the mutex its own private lock variable to test.</p>
<p><img src="8-11.png" srcset="/img/loading.gif" lazyload alt="an instance of spinning lock"></p>
<h3 id="Multicomputer-Virtualization"><a href="#Multicomputer-Virtualization" class="headerlink" title="Multicomputer Virtualization"></a>Multicomputer Virtualization</h3><div class="note note-success">
            <p>自旋锁和互斥锁的区别在于</p><table><thead><tr><th>特性</th><th>自旋锁</th><th>互斥锁</th></tr></thead><tbody><tr><td>等待机制</td><td>忙等待：循环检查锁的状态，直到获取成功</td><td>休眠等待：获取失败时，线程进入休眠状态，让出 CPU</td></tr><tr><td>底层实现</td><td>通常依赖 CPU 的原子指令（如 <code>Test-And-Set</code>、<code>Compare-And-Swap</code>）</td><td>通常需要操作系统的内核对象来管理等待队列</td></tr><tr><td>开销</td><td>获取失败时开销小（用户态循环），但浪费 CPU 时间</td><td>获取失败时开销大（需要陷入内核态进行线程切换，但不浪费 CPU</td></tr><tr><td>适用场景</td><td>临界区较短，多核处理器，不希望发生线程切换的开销</td><td>临界区较长，单核处理器，或等待时间可能较长</td></tr><tr><td>性能特点</td><td>避免了线程上下文切换的开销，但空转会消耗 CPU 周期</td><td>节省了 CPU 资源，但引入了线程上下文切换的开销</td></tr></tbody></table>
          </div>

<ul>
<li>Type I Hypervisor (监视器)<br>  In reality, it is the operating system, since it is the only program running in kernel mode. Its job is to support multiple copies of the actual hardware, called virtual machines, similar to the processes a normal operating system supports.</li>
<li>Type II Hypervisor<br>  It is just a user program running on, say, Windows or Linux that “interprets” the machine’s instruction set, which also creates a virtual machine. We put “interprets” in quotes because usually chunks of code are processed in a certain way and then cached and executed directly to improve performance, but in principle, full interpretation would work, albeit (尽管) slowly.</li>
</ul>
<p><img src="type-I-hypervisor.png" srcset="/img/loading.gif" lazyload alt="illustration of type I hypervisor"></p>
<h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><h3 id="Goals-and-Threats"><a href="#Goals-and-Threats" class="headerlink" title="Goals and Threats"></a>Goals and Threats</h3><p><img src="9-1.png" srcset="/img/loading.gif" lazyload alt="conclusion"></p>
<p>Many security texts decompose the security of an information system in three components: confidentiality (保密性), integrity (完整性), and availability (可用性). And preventing the threads of exposure of data (数据泄露), tampering with data (篡改数据) and denial of service (拒绝服务).</p>
<h3 id="Formal-Models-of-Secure-Systems-Covert-Channels"><a href="#Formal-Models-of-Secure-Systems-Covert-Channels" class="headerlink" title="Formal Models of Secure Systems - Covert Channels"></a>Formal Models of Secure Systems - Covert Channels</h3><p><img src="9-12.png" srcset="/img/loading.gif" lazyload alt="the purest form of covert channel"></p>
<p>In this instance, the first process, the client, wants some work performed by the second one, the server. For example, the server’s job is to help clients with filling out their tax forms. The clients are worried that the server will secretly record their financial data, for example, maintaining a secret list of who earns how much, and then selling the list. The server is worried that the clients will try to steal the valuable tax program.</p>
<p>The third process is the collaborator (合作者), which is conspiring (共谋) with the server to indeed steal the client’s confidential data. The collaborator and server are typically owned by the same person. The object is to design a system in which it is impossible for the server process to leak to the collaborator process the information.</p>
<p>From the system designer’s point of view, the goal is to encapsulate (封装) or confine (限制) the server in such a way that it cannot pass information to the collaborator. Unfortunately, more subtle communication channels may also be available. This communication channel is known as a <strong>covert channel</strong>.</p>
<h3 id="Exploiting-Software-Buffer-Overflow-Attacks"><a href="#Exploiting-Software-Buffer-Overflow-Attacks" class="headerlink" title="Exploiting Software - Buffer Overflow Attacks"></a>Exploiting Software - Buffer Overflow Attacks</h3><p>One rich source of attacks has been due to the fact that virtually all operating systems and most systems programs are written in the C or C++ programming languages (because programmers like them and they can be compiled to extremely efficient object code). Unfortunately, no C or C++ compiler does array bounds checking.</p>
<p><img src="9-21.png" srcset="/img/loading.gif" lazyload alt="how overflow works"></p>
<p>In Fig. 9-21(a), we see the main program running, with its local variables on the stack. At some point it calls the procedure $A$, as shown in Fig. 9-21(b). The standard calling sequence starts out by pushing the return address (which points to the instruction following the call) onto the stack. It then transfers control to $A$, which decrements the stack pointer by 128 to allocate storage for its local variable (buffer B).</p>
<p>So what exactly will happen if the user provides more than 128 characters? Figure 9-21(c) shows this situation. The function copies all the bytes into and beyond the buffer, overwriting possibly many things on the stack, but in particular overwriting the return address pushed there earlier. In other words, part of the log entry now fills the memory location that the system assumes to hold the address of the instruction to jump to when the function returns. As long as the user typed in a regular log message, the characters of the message would probably not represent a valid code address. As soon as the function A returns, the program would try to jump to an invalid target—something the system would not like at all. In most cases, the program would crash immediately.</p>
<p>Now assume that this is not a benign (良性) user who provides an overly long message by mistake, but an attacker who provides a tailored message specifically aimed at subverting (破坏) the program’s control flow. Say the attacker provides an input that is carefully crafted to overwrite the return address with the address of buffer B. The result is that upon returning from function A, the program will jump to the beginning of buffer B and execute the bytes in the buffer as code. Since the attacker controls the content of the buffer, he can fill it with machine instructions—to execute the attacker’s code within the context of the original program. In effect, the attacker has overwritten memory with his own code and gotten it executed.</p>
<h3 id="Malware-恶意软件"><a href="#Malware-恶意软件" class="headerlink" title="Malware (恶意软件)"></a>Malware (恶意软件)</h3><h4 id="Trojan-Horses"><a href="#Trojan-Horses" class="headerlink" title="Trojan Horses"></a>Trojan Horses</h4><p>When the free program is started, it calls a function that writes the malware to disk as an executable program and starts it. The malware can then do whatever damage it was designed for, such as deleting, modifying, or encrypting files (加密文件). It can also search for credit card numbers, passwords, and other useful data and send them back to Mal over the Internet. More likely, it attaches itself to some IP port and waits there for directions, making the machine a zombie, ready to do whatever its remote master wishes. Usually, the malware will also invoke (调用) the commands necessary to make sure the malware is restarted whenever the machine is rebooted.</p>
<h4 id="Virus"><a href="#Virus" class="headerlink" title="Virus"></a>Virus</h4><p>What is a virus, anyway? To make a long story short, a virus is a program that can reproduce itself by attaching its code to another program, analogous (类似) to how biological viruses reproduce. The virus can also do other things in addition to reproducing itself.</p>
<p>Once installed on the victim’s machine, the virus lies dormant (休眠) until the infected program is executed. Once started, it usually begins by infecting other programs on the machine and then executing its payload. In many cases, the payload may do nothing until a certain date has passed to make sure that the virus is widespread before people begin noticing it.</p>
<p><img src="9-29.png" srcset="/img/loading.gif" lazyload alt="where do virus hide"></p>
<h4 id="Worms"><a href="#Worms" class="headerlink" title="Worms"></a>Worms</h4><p>Technically, the worm consisted of two programs, the bootstrap and the worm proper. The bootstrap was compiled and executed on the system under attack. Once running, it connected to the machine from which it came, uploaded the main worm, and executed it. After going to some trouble to hide its existence, the worm then looked through its new host’s routing tables to see what machines that host was connected to and attempted to spread the bootstrap to those machines.</p>
<h3 id="Protection"><a href="#Protection" class="headerlink" title="Protection"></a>Protection</h3><h4 id="cryptography-密码学"><a href="#cryptography-密码学" class="headerlink" title="cryptography (密码学)"></a>cryptography (密码学)</h4><p><img src="9-15.png" srcset="/img/loading.gif" lazyload alt="cryptography is to build a function to encryption and decryption"></p>
<ul>
<li>Public-Key Cryptography</li>
</ul>
<p>The way public-key cryptography works is that everyone picks a (public key, private key) pair and publishes the public key. The public key is the encryption key; the private key is the decryption key. Usually, the key generation is automated, possibly with a user-selected password fed into the algorithm as a seed. To send a secret message to a user, a correspondent (通信方) encrypts the message with the receiver’s public key. Since only the receiver has the private key, only the receiver can decrypt the message.</p>
<ul>
<li>one-way functions</li>
</ul>
<p>In various situations that we will see later it is desirable to have some function, $f$, which has the property that given $f$ and its parameter $x$, computing $y&#x3D;f(x)$ is easy to do, but given only $f(x)$, finding $x$ is computationally infeasible (不可行的). Such a function is called a <strong>cryptographic hash function</strong>.</p>
<ul>
<li><p>RSA</p>
  <div class="note note-info">
            <p>totient (欧拉函数) $f(n)$ of $n$<br>$f(n)$ is a function that computes $n$ with the result is the quantity of numbers that smaller than $n$ and are coprime (互质) with $n$ in $[1~n]$.</p><p>Euler’s theorem makes sense only when for any numbers $a$ and $n$, as long as the numbers are coprimed, satisfies</p><p>$$<br>a^{\phi (n)} \equiv 1 \mod n<br>$$</p><p>examples:</p><p>$$<br>\begin{array}{c}<br>a&#x3D;3 &amp; n&#x3D;10 &amp; \phi(10)&#x3D;4 &amp; 3^4&#x3D;81\equiv 1 \mod 10 \\<br>a&#x3D;2 &amp; n &#x3D; 11 &amp; \phi(11)&#x3D;10 &amp; 2^{10}&#x3D;1024\equiv1 \mod 11<br>\end{array}<br>$$</p>
          </div>

<ol>
<li>choose two pretty huge prime numbers $p$ and $q$.</li>
<li>let $n&#x3D;p\ \cdot \ q$.</li>
<li>let $f(n)&#x3D;(p-1)\ \cdot\ (q-1)$.</li>
<li>choose a number $e$, satisfying $e\leq n$ and coprimed with $f(n)$.</li>
<li>choose a number $d$, satisfying $e\ \cdot \ d \mod f(n) &#x3D; 1$.</li>
<li>so the public key is $(e,n)$, private key is $d$.</li>
</ol>
<p>  encrypt message $m$ : $c&#x3D;m^e \mod n$<br>  decrypt message $c$ : $m&#x3D;c^d \mod n$</p>
<p>  Why can decrypt? According to Euler’s theorem,</p>
<p>  $$<br>  c^d\mod n&#x3D;m^{ed} \mod n&#x3D;m{kf(n)+1} \mod n&#x3D;m<br>  $$</p>
</li>
<li><p>Digital signature</p>
<p>  <img src="9-16.png" srcset="/img/loading.gif" lazyload alt="digital signature"></p>
<p>  In order to ensure original document is not tampered. We append a signature. The private key encrypts document’s MD5 value, while public key decrypts the signature and get its MD5 value.</p>
</li>
</ul>
<h4 id="mechanism"><a href="#mechanism" class="headerlink" title="mechanism"></a>mechanism</h4><ul>
<li><p>protection domains</p>
<p>  A domain is a set of (object, rights) pairs. Each pair specifies an object and some subset of the operations that can be performed on it. A right in this context means permission to perform one of the operations.</p>
</li>
</ul>
<p><img src="9-3.png" srcset="/img/loading.gif" lazyload alt="protection domains"></p>
<p><img src="9-4.png" srcset="/img/loading.gif" lazyload alt="protection matrix"></p>
<p><img src="9-8.png" srcset="/img/loading.gif" lazyload alt="capability list"></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="../../../../categories/OS/" class="category-chain-item">OS</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="../../../../tags/%E5%A4%8D%E4%B9%A0/" class="print-no-link">#复习</a>
      
        <a href="../../../../tags/%E6%97%A5%E5%B8%B8/" class="print-no-link">#日常</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Multiple Processor Systems and Security - Modern Operating System</div>
      <div>https://ivanclf.github.io/2025/05/29/os-4/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Ivan Chan</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年5月29日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="../../../08/07/leetcode/" title="leetcode热题100官方题解 - 1">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">leetcode热题100官方题解 - 1</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="../../27/os-3/" title="File Systems and I/O - Modern Operating System">
                        <span class="hidden-mobile">File Systems and I/O - Modern Operating System</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  





  <script>
  Fluid.utils.createScript('https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default","securityLevel":"loose"});

    Fluid.utils.listenDOMLoaded(function() {
      Fluid.events.registerRefreshCallback(function() {
        if ('mermaid' in window) {
          mermaid.init();
        }
      });
    });
  });
</script>






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="../../../../js/events.js" ></script>
<script  src="../../../../js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="../../../../js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="../../../../js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="../../../../js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
